{"version":3,"file":"main.js","mappings":"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","sources":["webpack://credit-card-validator/./src/js/validateFunctions.js","webpack://credit-card-validator/./src/components/FormValidator.js","webpack://credit-card-validator/./src/js/app.js","webpack://credit-card-validator/./src/index.js"],"sourcesContent":["export function luhnCheck(num) {\n  let arr = (num + \"\")\n    .split(\"\")\n    .reverse()\n    .map((x) => parseInt(x));\n  let lastDigit = arr.splice(0, 1)[0];\n  let sum = arr.reduce(\n    (acc, val, i) => (i % 2 !== 0 ? acc + val : acc + ((val * 2) % 9) || 9),\n    0\n  );\n  sum += lastDigit;\n  return sum % 10 === 0;\n}\n\nexport function detectPaymentSystem(cardNumber) {\n  if (/^3[47]/.test(cardNumber)) {\n    return \"amexp\";\n  } else if (/^4/.test(cardNumber)) {\n    return \"visa\";\n  } else if (/^5[1-5]/.test(cardNumber)) {\n    return \"mastercard\";\n  } else if (/^22[0-9]{2}/.test(cardNumber)) {\n    return \"mir\";\n  } else if (/^(?:5[0678]\\d\\d|6304|6390|67\\d\\d)\\d{8,15}$/.test(cardNumber)) {\n    return \"maestro\";\n  } else {\n    return \"Unknown\";\n  }\n}\n","import { luhnCheck, detectPaymentSystem } from \"../js/validateFunctions\";\n\nexport default class FormValidator {\n  constructor(element) {\n    if (typeof element !== \"string\") {\n      this.element = element;\n    } else {\n      this.element = document.querySelectorAll(element);\n    }\n    this.formValidator = this.element[0].querySelector(\".form-validator\");\n    this.formInput = this.element[0].querySelector(\".form-input\");\n    this.tooltip = this.element[0].querySelector(\".tooltip\");\n    this.cards = document.querySelectorAll(\".card\");\n    this.onSubmit = this.onSubmit.bind(this);\n    this.toValidate = this.toValidate.bind(this);\n    this.toResult = this.toResult.bind(this);\n    this.formValidator.addEventListener(\"submit\", this.onSubmit);\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    for (const item of this.cards) {\n      item.classList.remove(\"inactive-card\");\n    }\n    this.toValidate();\n  }\n\n  toValidate() {\n    if (this.tooltip.classList.contains(\"tooltip-active\")) {\n      this.tooltip.classList.remove(\"tooltip-active\");\n    }\n    if (luhnCheck(this.formInput.value) === false) {\n      this.tooltip.classList.add(\"tooltip-active\");\n      return;\n    }\n    this.toResult(detectPaymentSystem(this.formInput.value));\n  }\n\n  toResult(result) {\n    for (const item of this.cards) {\n      if (!item.classList.contains(result)) {\n        item.classList.add(\"inactive-card\");\n      }\n    }\n  }\n}\n","import FormValidator from \"../components/FormValidator\";\n\nconst formValidator = new FormValidator(\".form-group\");\n","import \"./css/style.css\";\nimport \"./js/app\";\n"],"names":["luhnCheck","num","arr","split","reverse","map","x","parseInt","lastDigit","splice","sum","reduce","acc","val","i","detectPaymentSystem","cardNumber","test","FormValidator","constructor","element","document","querySelectorAll","formValidator","querySelector","formInput","tooltip","cards","onSubmit","bind","toValidate","toResult","addEventListener","e","preventDefault","item","classList","remove","contains","value","add","result"],"sourceRoot":""}